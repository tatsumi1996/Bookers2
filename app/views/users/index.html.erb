<div class="container px-5 px-sm-0">
<div class="row">
<div class="col-md-3">
<div class="sidebox" data-spy="affix">
  <h2>User info</h2>
  <%= attachment_image_tag @user, :profile_image, :fill, 100, 100, format: 'jpeg', fallback: "no_image.jpg" %>
<table class="table">
  <tbody>
    <tr></tr>
    <tr>
      <th>name</th>
      <th><%= @user.name %></th>
    </tr>
    <tr>
      <th>introduction</th>
      <th><%= @user.introduction %></th>
    </tr>
  </tbody>
</table>
<div class="row">
  <%= link_to  edit_user_path(current_user) do %>
  <i class="btn btn-outline-secondary btn-block fas fa-user-cog"></i>
  <% end %>
</div>
<h2 class="mt-3">New book</h2>
<div class="error_message">
<% if @book.errors.any? %>
  <%= @book.errors.count %>件のerrorが発生しました
  <% @book.errors.full_messages.each do |message| %>
    <%= message %>
  <% end %>
<% end %>
</div>

<%= form_with model: @book, local:true do |f| %> <!--@booksかも-->
<h4>Title</h4>
<%= f.text_field :title %>
<h4>Opinion</h4>
<%= f.text_area :body %>
<div class="form-group">
<input type="submit" name="commit" value="Create Book" class="btn btn-success" data-disable-with="Create Book">
</div>
<% end %>

</div>
</div>



<div class="col-md-8 offset-md-1">
  <h2>All Users</h2>
  <table class="table">
    <thead>
      <tr>
        <th>image</th>
        <th>name</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <% @users.each do |user| %>

    <tbody>
          <tr>
      <td><%= attachment_image_tag user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg" %></td>
      <td><%= user.name %></td>
      <td><%= user.introduction %></td>
      <td>
        <%= link_to "Show", user_path(user.id) %>
      </td>
    </tr>
    <% end %>
    </tbody>

  </table>
</div>
</div>
</div>